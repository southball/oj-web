<!DOCTYPE html>
<html>

<head>
  <%- include('parts/libraries-css') %>
  <title><%= config.site_name %> - Problems</title>
</head>

<body>
  <%- include('parts/navbar') %>

  <div class="container">
    <h1>Problems List</h1>

    <% if (isAdmin) { %>
    <div>
      <a href="<%= url('problem/new') %>">
        <button type="button" class="btn btn-primary">Create New Problem</button>
      </a>
    </div>
    <br>
    <% } %>

    <table class="table table-bordered table-oj table-hover">
      <thead class="thead-light">
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Author</th>
        </tr>
      </thead>

      <tbody>
        <% for (const problem of problems) { %>
        <tr>
          <td>
            <a href="<%= url(`problem/${problem.id}`) %>">
              <%= problem.id %>
            </a>
          </td>
          <td>
            <a href="<%= url(`problem/${problem.id}`) %>">
              <%= problem.title %>
            </a>
          </td>
          <td>
            <% if (problem.author) { %>
            <a href="<%= url('user', problem.author.username) %>">
              <%= problem.author.username %>
            </a>
            <% } %>
          </td>
        </tr>
        <% } %>
      </tbody>
    </table>
  </div>

  <%- include('parts/libraries-js') %>
</body>

</html>